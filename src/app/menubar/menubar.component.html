<mat-sidenav-container autosize>
  <mat-sidenav class="navbar-flex unselectable fixed" mode="side" opened disableClose>
    <button class="hamburger icon" mat-icon-button [matMenuTriggerFor]="menu">
      <img src="assets/icons/menu.svg" />
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="newDocument()">{{ strings.menu.newDocument }}</button>
      <button mat-menu-item (click)="loadFile()">{{ strings.menu.loadFile }}</button>
      <button mat-menu-item (click)="exportFile({ name: 'CaBr2', extensions: ['cb2'] })">
        {{ strings.menu.saveFile }}
      </button>
      <button mat-menu-item (click)="exportFile({ name: 'PDF', extensions: ['pdf'] })">
        {{ strings.menu.exportPDF }}
      </button>
      <mat-divider></mat-divider>
      <button mat-menu-item (click)="openSettingsDialog()">{{ strings.menu.settings }}</button>
      <button mat-menu-item (click)="openManualDialog()">{{ strings.menu.quickStart }}</button>
    </mat-menu>

    <button class="icon" mat-icon-button (click)="scroll(headerTarget)">
      <img class="svg" src="assets/icons/flask.svg" />
    </button>

    <button class="icon" mat-icon-button (click)="scroll(search)">
      <img class="svg" src="assets/icons/magnifier.svg" />
    </button>

    <button class="icon" mat-icon-button (click)="scroll(securitythings)">
      <img class="svg" src="assets/icons/puzzle.svg" />
    </button>

    <button class="icon" mat-icon-button (click)="scroll(preview)">
      <img class="svg" src="assets/icons/arrow.svg" />
    </button>

    <button class="icon down" mat-icon-button (click)="openMail()">
      <img class="svg" src="assets/icons/bug.svg" />
    </button>
    <span class="version">
      {{ programmVersion }}
    </span>
  </mat-sidenav>
  <mat-sidenav-content class="smooth-scroll unselectable">
    <div #headerTarget>
      <app-header></app-header>
    </div>
    <div #search>
      <app-search></app-search>
    </div>
    <div #securitythings>
      <app-modifiable-string-list
        [title]="strings.descriptions.humanAndEnvironmentDanger"
        [elements]="globals.humanAndEnvironmentDangerObservable"
        (elementEmitter)="globals.humanAndEnvironmentDangerSubject.next($event)"
      ></app-modifiable-string-list>
      <app-modifiable-string-list
        [title]="strings.descriptions.rulesOfConduct"
        [elements]="globals.rulesOfConductObservable"
        (elementEmitter)="globals.rulesOfConductSubject.next($event)"
      ></app-modifiable-string-list>
      <app-modifiable-string-list
        [title]="strings.descriptions.inCaseOfDanger"
        [elements]="globals.inCaseOfDangerObservable"
        (elementEmitter)="globals.inCaseOfDangerSubject.next($event)"
      ></app-modifiable-string-list>
      <app-modifiable-string-list
        [title]="strings.descriptions.disposal"
        [elements]="globals.disposalObservable"
        (elementEmitter)="globals.disposalSubject.next($event)"
      ></app-modifiable-string-list>
    </div>
    <div #preview>
      <app-preview></app-preview>
    </div>
    <div class="buttons">
      <button
        class="unselectable"
        mat-raised-button
        color="primary"
        (click)="exportFile({ name: 'CaBr2', extensions: ['cb2'] })"
      >
        {{ strings.menu.saveFile }}
      </button>
      <button
        class="unselectable"
        mat-raised-button
        color="primary"
        (click)="exportFile({ name: 'PDF', extensions: ['pdf'] })"
      >
        {{ strings.menu.exportPDF }}
      </button>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
